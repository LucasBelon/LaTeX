\documentclass[a4paper, 12pts]{book}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{blindtext}
\usepackage[onehalfspacing]{setspace}
\begin{document}

Começamos o capitulo 3, sobre design de página.
Espera-se aprender:
\begin{itemize}
    \item Ajuste de margens;
    \item Mudança no espaçamento das linhas;
    \item Seccionar o documento;
    \item Criação de sumário;
    \item Design de cabeçalhos e rodapés;
    \item Controles de quebra de página;
    \item Definir notas de rodapé e modificar sua aparência.
\end{itemize}

\chapter{Exploring the page layout}
In this chapter we will study the layout of pages.

\section{Some filler text}
\blindtext
\section{A lot more filler text}
More dummy text will follow.
\subsection{Plenty of filler text}
\blindtext[10]

O pacote blindtext é usado para obter texto de preenchimento.
O pacote Babel altera o idioma desre texto filler.

O comando \emph{chapter} irá sempre começar uma nova página.
Para gerar texto filler, existe o pacote ipsum, que gera o famoso loremipsum.

O comando \emph{section} é similar, e já vimos sobre ele. Ele não começa uma nova página. Será que existe o comando \emph{chapter} para o tipo article?

Como livros são textos com páginas à esquerda e à direita, as margens ganham o seguinte significado:

\begin{itemize}
    \item A margem direita é a margem externa, já que capítulos começam na página direita.
    \item A margem esquerda é a margem interna, sempre maior por causa da colagem das folhas.
    \item A margem inferior contém a numeração de páginas.
    \item A margem superior possui um espaçamento maior em páginas de início de capítulo.
\end{itemize}

Para definir as margens fora do padrão \LaTeX\ utiliza-se o pacote \emph{geometry}.

\textbackslash usepackage[a4paper, inner=1.5cm, outer=3cm, top=2cm, bottom=3cm, bindingoffset=1cm]\{geometry\}

O pacote \emph{geometry} nasceu por conta de, nos primeiros dias do \LaTeX\, realizar-se a diagramação à mão.
Muitas vezes o tamanho margem esquerda + margem direita + comprimento do texto 
simplesmente não era compatível com o tamanho da página.

O \emph{geometry} compreende o formato chave-valor para seus parâmetros.
Se você utilizá-lo sem argumentos, pode executá-lo com \\
\textbackslash geometry\{lista de argumentos\}.
Imagine a necessidade de se alterar a geometria a cada página.

Hora de listar o poder do geometry:

Pra começar, as opções do papel:
\begin{itemize}
    \item \emph{paper=name} - letterpaper, executivepaper, legalpaper, a0paper, \ldots ,a6paper, b0paper, \ldots ,b6paper;
    \item \emph{paperwidth} - paperwidth=10in;
    \item \emph{paperheight} - paperheight=7in;
    \item \emph{papersize=\{width, height\}} - papersize=\{7in,10in\};
    \item \emph{landscape} - ;
    \item \emph{portrait} - modo padrão;
\end{itemize}

\begin{itemize}
    \item \emph{textwidth} Delimita a largura que o texto ocupará na página, por exemplo \emph{textwidth=140mm};
    \item \emph{textheight} Delimita a altura que o texto ocupará na página, por exemplo \emph{textheight=180mm} ;
    \item \emph{lines} Outra forma de delimitar a altura do texto, por exemplo \emph{lines=25} ;
    \item \emph{includehead} Faz com que o cabeçalho seja incorporado como área de texto. A opção padrão é \emph{false} ;
    \item \emph{includefoot} Faz com que o rodapé seja incorporado como área de texto. A opção padrão é \emph{false} ;
    \item \emph{left ou right} Delimita o tamanho da margem, por exemplo \emph{left=3cm}. Usa-se no caso de documentos de uma página por folha;
    \item \emph{inner ou outer} Delimita o tamanho da margem interna ou externa, por exemplo \emph{inner=2cm}. Usa-se para documentos de duas páginas por folha;
    \item \emph{top, bottom} Especifica o tamanho das margens verticais como em \emph{top=25mm};
    \item \emph{twosides} Força o documento a adotar página esquerda e direita. Nas páginas verso os valores das margens esquerda e direita serão invertidos;
    \item \emph{bindingoffset} Separa um espaço para a união de folhas. Será aplicado à margem interna;
\end{itemize}

Para se alterar a geometria do documento, mesmo já tendo definido no preâmbulo,
usar o comando \textbackslash newgeometry\{argument list\},
e para retornar à geometria definida inicialmente \textbackslash restoregeometry.

Para encontrar documentação por tópicos, caso nem o nome se saiba:
\textbackslash url\{http://texcatalogue.sarovar.org/bytopic.html\}

O livro sugere pesquisar sobre a documentação do pacote typearea, que utiliza a abordagem de delimitar a geometria
de forma mais semelhante com os padrões tipográficos (design de página).
Esse pacote é explicado no manual KOMA-Script.

Alterando o espaçamento das linhas:
Usa-se o pacote setspace que possui as seguintes opções:
\begin{itemize}
    \item \textbackslash usepackage[onehalfspacing]\{setspace\}
    \item \textbackslash usepackage[singlespacing]\{setspace\}- Opção padrão.
    \item \textbackslash usepackage[doublespacing]\{setspace\}
\end{itemize}

Normalmente definimos o espaçamento entre linhas para todo o documento.
Mas caso seja necessário, pode-se usar o ambiente spacing para alterar um trecho do texto.

\begin{spacing}{2.4}
    Este texto está esticado em uma razão de 2.4
\end{spacing}

Alguns pacotes não possuem documentação separada de seus arquivos fonte.
Esse é o caso de setspace.
Rodar depois o comando kpsewich setspace.sty
Ele irá mostrar onde está o arquivo do pacote.

Essa ferramenta pertence ã biblioteca kpathsea, focada em caminhos de arquivos.

Criando um documento com duas colunas e orientação paisagem:

\textbackslash documentclass[a4paper, 12pt, landscape, twocolumn]\{book\}

Verificar pelo comando \textbackslash twocolumn[Opening text]
e pelo pacote multicols

As classes base do LaTeX são book, article, report, slides, e letter.
Existe uma classe de documento melhor que letter, scrlttr2. Slides é velho e ruim, usar beamer ou powerdot.


Vamos verificar as opções de documentclass:
\begin{itemize}
    \item a4paper, b2paper, letterpaper, legalpaper, executivepaper.
    \item 10pt, 11pt ou 12pt. 
    \item landscape.
    \item onecolumn ou twocolumn.
    \item oneside ou twoside. Não se usa twoside com slides e letter.
    \item openright ou openany. Permite capitulos comecarem na direita ou em qualquer página.
    \item titlepage ou notitlepage. Cria uma página de título separada.
    \item final ou draft. Quando draft é selecionado o documento fica com uma caixa preta não sei onde, pra ajudar a revisão
    \item openbib. Faz os arquivos bib serem salvos em formato aberto ao invés de compriimido.
    \item fleqn. Faz fórmulas serem alinhadas à esquerda.
    \item leqno. Para fórmulas numeradas, coloca o número à esquerda.
\end{itemize}

Existe um negócio que eu realmente não tenho certeza do que é, mas chama KOMA-Script.
Ele permite usar classes com maior flexibilidade, com mais opções e recursos.
No entanto, também parece que é uma outra coleção de coisas para aprender.

Pacotes que permitem uso de fontes arbitrárias:
extarticle, extbook, extreport, extletter.

Chegou a hora de verificar o sumário, ou table of contents (toc).

% \documentclass[a4paper,12pt]{book}
% \usepackage[english]{babel}
% \usepackage{blindtext}
% \usepackage[a4paper, inner=1.5cm, outer=3cm, top=2cm,
% bottom=3cm, bindingoffset=1cm]{geometry}
% \begin{document}
% \tableofcontents % Aqui está o comando estrela da vez
% \chapter{Exploring the page layout}
% In this chapter we will study the layout of pages.
% \section{Some filler text}
% \blindtext
% \section{A lot more filler text}
% More dummy text will follow.
% \subsection{Plenty of filler text}
% \blindtext[10]
% \end{document}
% }

À vezes é preciso compilar duas vezes para obter o sumário corretamente.
A primeira rodada de compilação irá criar um arquivo .toc,
e uma segunda rodada é necessária para ler o arquivo.

O comando \textbackslash tableofcontents responde aos comandos que definem títulos e subtítulos:
\textbackslash chapter, \textbackslash section \textbackslash subsection \textbackslash subsubsection.

Podemos diminuir o tamanho do título do capítulo no sumário com a 
seguinte sintaxe:
% \chapter[nome sumario]{Nome capitulo}

As "camadas" de níveis que as bases geralmente aceitam são:
\begin{itemize}
    \item part
    \item chapter
    \item section
    \item subsection
    \item subsubsection
    \item paragraph
    \item subparagraph
\end{itemize}

Todos os comandos que seccionam o texto possuem a forma
com asterisco, como \textbackslash section*, que afeta a exibição
da numeração e faz a seção não aparecer no sumário.

Customizando cabeçalho com pacote fancyhdr (fancy header)

\textbf{
    \textbackslash usepackage\{fancyhdr\}\\
    \textbackslash fancyhdr\{\} \\
    \textbackslash fancyhead[LE]\{\textbackslash leftmark\} \\
    \textbackslash fancyhead[RO]\{\textbackslash nouppercase\{\textbackslash rightmark\}\} \\
    \textbackslash fancyfoot[LE,RO]\{\textbackslash thepage\} \\
    \textbackslash pagestyle\{fancy\} 
}

Deve ser aplicado no preambulo.

\textbackslash fancyhdr limpa os estilos do cabecalho e rodapé.

leftmark e rightmark trazem informações sobre o capítulo e seção atuais.
LE se refere ao ladp esquerdo de páginas pares. Left Even.
Por padrão são utilizadas letras maiúsculas, por isso
é adicionado o nouppercase.
s funcionalidades do fancyhdr são parte de um estilo de página chamafo fancy.
Portanto, é preciso declarar o estilo de página vomo pagestyle fancy.

O LaTeX padrão possui quatro estilos de página.
\begin{itemize}
    \item empty
    \item plain
    \item headings
    \item myheadings
\end{itemize}

Para definir o estilo de uma página específica thispagestyle pode ser usado.

O cabeçalho e rodapé podem ser divididos cada um em 3 partes.
left, center, right (l, c, r).
Os comandos para editar essas áreas são:
\textbackslash lhead \textbackslash chead \textbackslash rhead 
\textbackslash lfoot \textbackslash lfoot \textbackslash lfoot 

Cada um desses comandos requer um argumento (um texto) que será adicionado
na localização referida, como por exemplo thepage ou rightmark.

Alternativamente podemos utilizar \textbackslash fancyhead[code]\{text\} e
\textbackslash fancyfoot[code]\{text\}.
Em code, podemos ter a combinação das lerras:
L(eft) R(ight) C(enter) O(dd) E(ven) H(ead) F(oot)

Podemos adicionar linhas decorativas tanto no cabeçalho como no rodapé com
\textback renewcommand\{\\headrulewidth\}{width}
\textback renewcommand\{\\footrulewidth\}{width}

Com renewcommand estamos sobrescrevendo o valor que o objeto headrulewidth possui.
É semelhante à newcommand.
Aparentemente vamos utilizar bastante de agora em diante.

Quando usamos chapter*, não é produzido cabeçalho.
Por isso, vamos usar markright\{right head\} e markboth\{left head \}\{right head\}

Uma alternativa para o pacote fanyhdr é o scrpage2.
Pertence ao Koma-script.

\textback pagebreak é diferente de newpage. Ele altera os espacos entre parágrafos.
Existem mais duas variantes: clearpage e cleardoublepage iniciarão
em uma página em branco, mesmo que no modo twosides.

Caso você perceba um espaçamento entre título e parágrafo,
atenção, pode ter sido causado por uma quebra de página ruim.
Para consertar, desligue a justificação com raggedbottom.
Para religar flushbottom.

Podemos aumentar o tamanho de nossa página com 

% TODO: ESCREVA SOBRE TAGS IMEDIATAMENTE.



\end{document}
